<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Toutes les actualités du Dojo</title>
    <meta name="description" content="#" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <meta name="description" content="Vous etes sur la page de contact. Envoyer nous un mail en remplissant le formulaire et que l'on puisse répondre au mieux a vos demandes." /> 

  </head>
  <body>
    <header>
      <div class="container">
        <div class="cadreLogo">
          <a href="index.html">
            <!-- a voir si on place le logo dans une div ou pas besoin -->
            <img
              class="logoNav"
              src="assets/images/Logo CSM Fight Club.png"
              alt="Logo du club CSM Fight Team - retour a la page d'accueil"
            />
          </a>
        </div>
        <!-- 0.5rem 4rem 2rem 0.5rem; a appliquer sur l'image pour recreer le design chelou du site -->
        <nav aria-label="Navigation principale">
          <!-- aria-label sert a l'accessibilité pour les malvoyants et permet un meilleur parsing par les moteurs comme google -->
          <ul>
            <li class="navElmt"><a href="index.html">ACCUEIL</a></li>
            <li class="navElmt">
              <a href="catalogue-article.html">ACTUALITES</a>
            </li>
            <li id="dropDown" class="navElmt">
              <button id="dropDownBtn">LA VIE DU CLUB ▾</button>
              <ul id="dropDownList" class="dflex">
                <li class="dropDownElmt">
                  <a href="#" class="color-bck">Histoire du Club</a>
                </li>
                <li class="dropDownElmt">
                  <a href="#" class="color-bck">Galeries Photos</a>
                </li>
                <li class="dropDownElmt">
                  <a href="#" class="color-bck">Résultats</a>
                </li>
                <li class="dropDownElmt">
                  <a href="#" class="color-bck">Agenda</a>
                </li>
              </ul>
            </li>
            <li class="navElmt"><a href="#">LES COURS</a></li>
            <li class="navElmt"><a href="contact.html">CONTACTEZ-NOUS</a></li>

            <!-- <a href> est utilisé pour de la navigation en interne et en externe à un site => bonne pratique + meilleur referencement au level du SEO + meilleur ancres pour les navigateurs et pour le parsing -->
          </ul>
        </nav>
      </div>
    </header>
    <main class="dflex jc-c ai-c ">
      <div class="form-contact dflex fw-w jc-c ai-c minw-100 mt-32">
      <form method="post" action="#" class="dblock fd-c ai-c ta-c mw-800px">
        <h1 class="p24">Contatez-nous</h1>
        <div class="mb-16">
          <label for="nom">Nom<span class="color-r ">*</span></label><br>
          <input id="nom" type="text" placeholder="Votre nom" name="nom" required />
        </div>

        <div class="mb-16">
          <label for="prenom">Prénom<span class="color-r ">*</span></label><br>
          <input id="prenom" type="text" placeholder="Votre prénom" name="prenom" required/>
        </div>

        <div class="mb-16">
          <label for="email">Email<span class="color-r">*</span></label><br>
          <input id="email" type="email" name="email" placeholder="username@gmail.com" required />
        </div>

        <fieldset class="mb-16">
          <legend>A propos de quoi nous contactez-vous:</legend>

          <div>
            <label for="judo">Judo</label>
            <input type="checkbox" id="judo" name="option[]" value="judo" checked />
          </div>

          <div>
            <label for="jujitsu">Jujitsu</label>
            <input type="checkbox" id="jujitsu" name="option[]" value="jujitsu" />
          </div>
          <div>
            <label for="jujitsu-bresilien">Jujitsu Brésilien</label>
            <input type="checkbox" id="jujitsu-bresilien" name="option[]" value="jujitsu-bresilien"/>
          </div>
          <div>
            <label for="autre">Autre</label>
            <input type="checkbox" id="autre" name="option[]" value="autre" />
          </div>
        </fieldset>
        <div class="mb-16">
          <label for="message">Votre message :<span class="color-r">*</span></label><br />
          <textarea id="message" name="message" placeholder="Écrivez votre message ici..." maxlength="500" required> </textarea><br />
        </div>

        <div class="mb-32">
          <button type="submit">Envoyer</button>
        </div>
      </form>
      </div>
    </main>
    <footer>
 <div class="footer_block dflex fw-w jc-c gap-24 p16">
            <section class="section_footer ta-c">
                <h3><b>lorem</b></h3>
                <ul>
                    <li><a href="#">Actualités</a></li>
                    <!-- <li><a href="#"> c</a></li>
                    <li><a href="#">c </a></li> -->
                </ul>
            </section>
            <section class="section_footer ta-c">
                <h3><b>IPSUM</b></h3>
                <ul>
                    <li><a href="#">c</a></li>
                    <!-- <li><a href="#"></a></li>
                    <li><a href="#"></a></li> -->
                </ul>
            </section>
            <section class="section_footer ta-c">
                <h3><b>Contact</b></h3>
                <ul>
                    <li><a href="#">d </a></li>
                    <!-- <li><a href="#">d </a></li>
                    <li><a href="#"> d</a></li> -->
                </ul>
            </section>
        </div>
        <p id="copyright">@ Copyright ALEO 2024</p>
    </footer>

  <!-- // Initialisation avec ta clé publique EmailJS
  emailjs.init("28Nlfyq7zS4Hhf6hm"); // remplace par ta clé publique -->
<script
  src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
</script>

<script>
  (function () {
    emailjs.init({
      publicKey: "28Nlfyq7zS4Hhf6hm", // NOUVELLE SYNTAXE
    });
  })();
</script>
<script>
  const form = document.querySelector("form");

  form.addEventListener("submit", function(event) {
    event.preventDefault(); // Empêche le rechargement de la page

    // Récupérer toutes les options cochées
    const options = Array.from(document.querySelectorAll("input[name='option[]']:checked"))
                         .map(el => el.value)
                         .join(", ");

    // Préparer les données à envoyer
    const templateParams = {
      nom: document.getElementById("nom").value,
      prenom: document.getElementById("prenom").value,
      email: document.getElementById("email").value,
      option: options,
      message: document.getElementById("message").value
    };

    // Envoyer le formulaire via EmailJS
    emailjs.send("service_ul91nnp", "template_0ecflha", templateParams)
      .then(function(response) {
        console.log("Message envoyé!", response.status, response.text);
        alert("Merci, votre message a été envoyé !");
        form.reset(); // vide le formulaire après envoi
      }) 
      .catch((error) => {
    console.error("EmailJS error:", error);
    alert("Erreur");
  });
});
        // function(error) {
      //   console.log("Erreur...", error);
      //   alert("Oups, le message n'a pas pu être envoyé. Réessayez.");
      // });
</script>
  </body>
</html>
