<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>faire apparaitre le titre de l'article, MAIS COMMENT??!!!!!!</title>
    <link rel="stylesheet" href="assets/css/main.css">
</head>

<body>
    <header>
        <div class="container">
            <div class="cadreLogo">
                <a href="index.html">
                    <!-- a voir si on place le logo dans une div ou pas besoin -->
                    <img class="logoNav" src="#" alt="Logo du club CSM Fight Team - retour a la page d'accueil">
                </a>
            </div>
            <!-- 0.5rem 4rem 2rem 0.5rem; a appliquer sur l'image pour recreer le design chelou du site -->
            <nav aria-label="Navigation principale">
                <!-- aria-label sert a l'accessibilité pour les malvoyants et permet un meilleur parsing par les moteurs comme google -->
                <ul>
                    <li class="navElmt"><a href="index.html">ACCUEIL</a></li>
                    <li class="navElmt"><a href="catalogue-article.html">ACTUALITES</a></li>
                    <li id="dropDown" class="navElmt">
                        <button id="dropDownBtn"> LA VIE DU CLUB ▾</button>
                        <ul id="dropDownList" class="dflex">
                            <li class="dropDownElmt"><a href="#" class="color-bck">Histoire du Club</a></li>
                            <li class="dropDownElmt"><a href="#" class="color-bck">Galeries Photos</a></li>
                            <li class="dropDownElmt"><a href="#" class="color-bck">Résultats</a></li>
                            <li class="dropDownElmt"><a href="#" class="color-bck">Agenda</a></li>
                        </ul>
                    </li>
                    <li class="navElmt"><a href="#">LES COURS</a></li>
                    <li class="navElmt"><a href="#">CONTACTEZ-NOUS</a></li>

                    <!-- <a href> est utilisé pour de la navigation en interne et en externe à un site => bonne pratique + meilleur referencement au level du SEO + meilleur ancres pour les navigateurs et pour le parsing -->
                </ul>
            </nav>
        </div>

    </header>
    <main>
        <h1>Articles</h1>
        <div class="pageArticle dflex  jc-c">

        </div>
    </main>
    <footer>
        <div class="footer_block dflex jc-cr gap-24 p16">
            <section class="section_footer dflex fd-c ai-c ta-c">
                <h3><b>A NE PAS MANQUER</b></h3>
                <ul>
                    <li><a href="#">Actualités</a></li>
                    <li><a href="#"> c</a></li>
                    <li><a href="#">c </a></li>
                </ul>
            </section>
            <section class="section_footer dflex fd-c ai-c ta-c">
                <h3><b>Contact</b></h3>
                <ul>
                    <li><a href="#">c </a></li>
                    <li><a href="#">c </a></li>
                    <li><a href="#"> c</a></li>
                </ul>
            </section>
            <section class="section_footer dflex fd-c ai-c ta-c">
                <h3><b>Classement</b></h3>
                <ul>
                    <li><a href="#">d </a></li>
                    <li><a href="#">d </a></li>
                    <li><a href="#"> d</a></li>
                </ul>
            </section>
        </div>
        <p id="copyright">@ Copyright ALEO 2024</p>
    </footer>
    <!-- Ajout du script directement sur la page plutot que sur le fichier js car on ne peut pas faire 2 fetchs sans d'importante adaptation du code  -->
    <script>
        console.log(window.location) //pour verif qu'on recup les donnees de l'url
        const params = new URLSearchParams(window.location.search);
        console.log(params.get("id"));
        const currentId = params.get("id");
        console.log(currentId)


        fetch("http://127.0.0.1:5500/assets/javascript/data/articles.json")
            .then((response) => response.json())
            .then(
                (data) => {
                    const pageArticle = document.querySelector(".pageArticle");

                    const single = data.filter(
                        (item) => {
                            return item.id == currentId
                        }
                    )

                        for (let index = 0; index < single.length; index++) {
                            const element = single[index];

                            const article = document.createElement("article")
                            article.innerHTML = `
            <img src="${element.img}" alt = "Photo de l'événement">
            <p class="dateCard"> ${element.date} </p>
            <h2 class="titreCard"> ${element.titre}
            <p class="introCard"> ${element.description} </p>
            `
                            pageArticle.append(article) // preferer append à appendChild (cf.mdn)
                        }})
    </script>

</body>

</html>